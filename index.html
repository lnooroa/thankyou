<!DOCTYPE html>
<html>
<head>
  <title>Dynamic Web App</title>
  <script>
    const GAS_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbxMrDvLGO3QsDQI3pk4K5a9U8jihJ1Qp3WWIcX3PXJkfWLytr9IvgNk9t6eF80YhoLI/exec";

    // Function to load and execute the main JavaScript
    function loadMainScript() {
      fetch(`${GAS_WEB_APP_URL}?action=getScript`)
        .then(response => {
          if (!response.ok) {
            throw new Error(`Failed to fetch main script. Status: ${response.status}`);
          }
          return response.text();
        })
        .then(scriptContent => {
          const scriptWithUrl = `const GAS_WEB_APP_URL = "${GAS_WEB_APP_URL}";\n` + scriptContent;
          const scriptElement = document.createElement("script");
          scriptElement.text = scriptWithUrl;
          document.head.appendChild(scriptElement);
        })
        .catch(error => {
          document.body.innerHTML += `<p>Error loading the application: ${error.message}</p>`;
        });
    }

    // Start the process when the DOM is fully loaded
    document.addEventListener("DOMContentLoaded", loadMainScript);
  </script>
</head>
<body>
  <h1>Dynamic Web App</h1>
  <div id="menu"></div>
  <div id="content">Content will appear here...</div>
</body>
</html>
