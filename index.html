<!DOCTYPE html>
<html>
<head>
<title>LittleHomes</title>
<script>
// Replace with your actual GAS web app URL
const GAS_WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbxMrDvLGO3QsDQI3pk4K5a9U8jihJ1Qp3WWIcX3PXJkfWLytr9IvgNk9t6eF80YhoLI/exec';

// Function to load and execute the main JavaScript from GAS
function loadMainScript() {
console.log("Attempting to load main script from GAS...");
fetch(`${GAS_WEB_APP_URL}?action=getScript`)
.then(response => {
if (!response.ok) {
console.error("Network response not ok:", response.status, response.statusText);
throw new Error(`Failed to fetch script: ${response.statusText}`);
}
return response.text();
})
.then(scriptContent => {
console.log("Script successfully fetched. Adding to the document...");
const scriptElement = document.createElement('script');
scriptElement.text = scriptContent;
document.head.appendChild(scriptElement);
console.log("Script added to the document successfully.");
})
.catch(error => {
console.error("Error loading main script:", error.message);
document.body.innerHTML = `
<p>Error loading page. Please try again later.</p>
<p><strong>Debug Info:</strong> ${error.message}</p>
`;
});
}

// Load the main script once the DOM is fully loaded
document.addEventListener('DOMContentLoaded', () => {
console.log("DOM fully loaded. Starting script loading...");
loadMainScript();
});
</script>
</head>
<body>
<!-- Content will be dynamically generated -->
<p>Loading content, please wait...</p>
</body>
</html>
